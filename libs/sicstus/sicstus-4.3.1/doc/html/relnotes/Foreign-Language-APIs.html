<html lang="en">
<head>
<title>Foreign Language APIs - SICStus Prolog Release Notes</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="SICStus Prolog Release Notes">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="What-Is-New-In-Release-4.html#What-Is-New-In-Release-4" title="What Is New In Release 4">
<link rel="prev" href="Input_002dOutput-System.html#Input_002dOutput-System" title="Input-Output System">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link href="texinfo.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="node">
<a name="Foreign-Language-APIs"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Input_002dOutput-System.html#Input_002dOutput-System">Input-Output System</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="What-Is-New-In-Release-4.html#What-Is-New-In-Release-4">What Is New In Release 4</a>
<hr>
</div>

<h4 class="subsection">13.1.5 Foreign Language APIs</h4>

<h5 class="subsubsection">13.1.5.1 Foreign Language Interface</h5>

<p>The conversion specifier (in <code>foreign/[2,3]</code> facts)
<code>string(N)</code> has been dropped.

   <p>The conversion specifier <code>chars</code> has been renamed to
<code>codes</code>, in analogy with the built-in predicate
<code>atom_codes/2</code>, the second argument of which is a list of
character codes.

   <p>The C header generated by <samp><span class="command">splfr</span></samp> from the <code>foreign/[2,3]</code>
facts now uses the <code>const</code> attribute where appopriate.

   <p>Foreign resources are no longer unloaded by
<code>save_program/[1,2]</code>. For this reason, the deinit function of a
foreign resource is no longer called when saving a program so
<code>SP_WHEN_SAVE</code> has been removed.

<h5 class="subsubsection">13.1.5.2 C API Functions</h5>

<p>Many functions in the C API has been changed or removed, especially
those related to OS and I/O operations. There are also a number of new C
API functions.

   <p><table summary=""><!-- @headitem Old API @tab Replaced by -->
<tr align="left"><td valign="top" width="50%"><strong>Old API</strong> </td><td valign="top" width="50%"><strong>Replaced by</strong>

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_make_stream</code>, <code>SP_make_stream_context</code> </td><td valign="top" width="50%"><code>SP_create_stream</code>

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_set_tty</code> </td><td valign="top" width="50%"><code>SP_CREATE_STREAM_OPTION_INTERACTIVE</code>

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_fgetc</code> </td><td valign="top" width="50%"><code>SP_get_byte</code>, <code>SP_get_code</code>

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_fputc</code> </td><td valign="top" width="50%"><code>SP_put_byte</code>, <code>SP_put_code</code>

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_fputs</code> </td><td valign="top" width="50%"><code>SP_put_codes</code>, <code>SP_put_encoded_string</code>

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_fflush</code> </td><td valign="top" width="50%"><code>SP_flush_output</code>

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_chdir</code> </td><td valign="top" width="50%"><code>SP_set_current_dir</code>

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_getcwd</code> </td><td valign="top" width="50%"><code>SP_get_current_dir</code>

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_set_wcx_hooks</code> </td><td valign="top" width="50%">Gone

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_wcx_getc</code>, <code>SP_wcx_putc</code> </td><td valign="top" width="50%">Gone

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_to_os</code>, <code>SP_from_os</code> </td><td valign="top" width="50%">Gone

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_put_number_chars</code> </td><td valign="top" width="50%"><code>SP_put_number_codes</code>

<p><br></td></tr><tr align="left"><td valign="top" width="50%"><code>SP_get_number_chars</code> </td><td valign="top" width="50%"><code>SP_get_number_codes</code>

   <br></td></tr></table>

   <p>Other new functions include:

     <dl>
<dt><code>SP_get_stream_user_data</code><br><dt><code>SP_get_stream_counts</code><br><dt><code>SP_put_bytes</code><br><dt><code>SP_fopen</code><br><dt><code>SP_unget_code</code><br><dt><code>SP_unget_byte</code><dd></dl>

   <p>Also, many functions take new or changed parameters.

<h5 class="subsubsection">13.1.5.3 Java API</h5>

     <ul>
<!-- [PD] 4.0.3beta1 Jasper is back! -->
<!-- @item -->
<!-- The Jasper API has not changed from release 3, but the -->
<!-- Jasper module is not available in the current release. -->

     <li>The PrologBeans API has been extensively revised. See the
PrologBeans HTML (javadoc) documentation.

     <li>PrologBeans was built with Java 1.5. 
</ul>

<div class="logo">
<a href="http://sicstus.sics.se/">
<table><tr><td>&nbsp;</td></tr></table>
</a>
</div>
<div class="node">
<ul class="node">
<li><a href="index.html#Top">Release Notes</a>
<hr>
<li><a href="index.html#TOC">Table of Contents</a>
</ul>
</div>
<hr>
<a HREF="mailto:sicstus-support@sics.se?subject=Documentation%20feedback%20on%20html/relnotes/Foreign-Language-APIs.html&amp;body=Feedback%20on%20documentation%20node%20html/relnotes/Foreign-Language-APIs.html%20in%20Release%20Notes.">Send feedback on this subject.</a>
   </body></html>

