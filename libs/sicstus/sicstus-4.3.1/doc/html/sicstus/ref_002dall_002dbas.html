<html lang="en">
<head>
<title>ref-all-bas - SICStus Prolog</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="SICStus Prolog">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="ref_002dall.html#ref_002dall" title="ref-all">
<link rel="next" href="ref_002dall_002dcse.html#ref_002dall_002dcse" title="ref-all-cse">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link href="texinfo.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="node">
<a name="ref-all-bas"></a>
<a name="ref_002dall_002dbas"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="ref_002dall_002dcse.html#ref_002dall_002dcse">ref-all-cse</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="ref_002dall.html#ref_002dall">ref-all</a>
<hr>
</div>

<h4 class="subsection">4.13.1 Introduction</h4>

<p>When there are many solutions to a goal, and a list of
all those solutions is desired, one means of collecting them is to write
a procedure that repeatedly
backtracks into that goal to get another solution. 
In order to collect all the solutions together,
it is necessary to use the database (via assertion) to hold the
solutions as they are generated, because  backtracking to redo
the goal would undo any list construction that had been done after
satisfying the goal.

   <p>The writing of such a backtracking loop can be avoided by the use of
one of the built-in predicates <code>setof/3</code>, <code>bagof/3</code> and
<code>findall/[3,4]</code>, which are described below.  These provide a nice
logical abstraction, whereas with a user-written backtracking loop the
need for explicit side-effects (assertions) destroys the declarative
interpretation of the code.  The built-in predicates are also more
efficient than those a user could write.

   <p><strong>Please note</strong>:
If the solutions being collected contain attributed variables
(see <a href="lib_002datts.html#lib_002datts">lib-atts</a>) or suspended goals (see <a href="ref_002dsem_002dsec.html#ref_002dsem_002dsec">ref-sem-sec</a>),
those attributes are not retained in the list of solutions.  To retain the
attributes, you can use <code>copy_term/3</code> (see <a href="ref_002dlte_002dcpt.html#ref_002dlte_002dcpt">ref-lte-cpt</a>).

<div class="logo">
<a href="http://sicstus.sics.se/">
<table><tr><td>&nbsp;</td></tr></table>
</a>
</div>
<div class="node">
<ul class="node">
<li><a href="index.html#Top">User's Manual</a>
<hr>
<li><a href="index.html#TOC">Table of Contents</a>
</ul>
</div>
<hr>
<a HREF="mailto:sicstus-support@sics.se?subject=Documentation%20feedback%20on%20html/sicstus/ref_002dall_002dbas.html&amp;body=Feedback%20on%20documentation%20node%20html/sicstus/ref_002dall_002dbas.html%20in%20User's%20Manual.">Send feedback on this subject.</a>
   </body></html>

